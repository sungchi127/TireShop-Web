(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{3530:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return s(3842)}])},3842:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>m});var a=s(7876),i=s(7328),t=s.n(i),r=s(4232),l=s(9099),o=s(9722),d=s.n(o),u=s(5364);let m=()=>{let[e,n]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,m]=(0,r.useState)(null),[_,c]=(0,r.useState)(!1),p=(0,l.useRouter)(),h=u.env.NEXT_PUBLIC_API_BASE_URL,g=async n=>{if(n.preventDefault(),!h){m("API 服務目前無法使用，請稍後再試。"),c(!1);return}c(!0),m(null);try{let n=await fetch("".concat(h,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s}),credentials:"include"}),a=await n.json();n.ok?p.push("/admin/orders"):m(a.message||"登入失敗，請檢查您的用戶名和密碼。")}catch(e){console.error("Login error:",e),m("登入時發生錯誤，請稍後再試。")}c(!1)};return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)(t(),{children:[(0,a.jsx)("title",{children:"管理員登入 - 廣翊輪胎行"}),(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,a.jsxs)("div",{className:d().loginBox,children:[(0,a.jsx)("h1",{className:d().title,children:"管理員登入"}),(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"username",className:d().label,children:"用戶名:"}),(0,a.jsx)("input",{type:"text",id:"username",name:"username",value:e,onChange:e=>n(e.target.value),className:d().input,required:!0,disabled:_})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"password",className:d().label,children:"密碼:"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:s,onChange:e=>i(e.target.value),className:d().input,required:!0,disabled:_})]}),o&&(0,a.jsx)("p",{className:d().errorMessage,children:o}),(0,a.jsx)("button",{type:"submit",className:d().submitButton,disabled:_,children:_?"登入中...":"登入"})]})]})]})}},9099:(e,n,s)=>{e.exports=s(8253)},9722:e=>{e.exports={container:"AdminLogin_container__lRpNw",loginBox:"AdminLogin_loginBox__dHPWZ",title:"AdminLogin_title__hHTP_",formGroup:"AdminLogin_formGroup__ia0Px",label:"AdminLogin_label__pgasJ",input:"AdminLogin_input__1xGzd",errorMessage:"AdminLogin_errorMessage__F_9k2",submitButton:"AdminLogin_submitButton__QLrga"}}},e=>{var n=n=>e(e.s=n);e.O(0,[636,593,792],()=>n(3530)),_N_E=e.O()}]);