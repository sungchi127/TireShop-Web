(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{1974:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var r=s(7876),l=s(7328),n=s.n(l),i=s(4232),t=s(9500),d=s.n(t),o=s(8230),c=s.n(o),m=s(5364);let p=()=>{let e="true"===m.env.NEXT_PUBLIC_ORDER_FORM_ENABLED,[a,s]=(0,i.useState)({name:"",phone:"",email:"",tireBrandSeries:"",tireSpecs:"",quantity:1,carMake:"",carModel:"",carYear:"",needsInstallation:"no",appointmentDate:"",appointmentTime:"",notes:""}),[l,t]=(0,i.useState)(!1),[o,p]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),x=m.env.NEXT_PUBLIC_API_BASE_URL,_=e=>{let{name:a,value:r,type:l,checked:n}=e.target;s(e=>({...e,[a]:"checkbox"===l?n?"yes":"no":r}))},j=e=>{s(a=>({...a,needsInstallation:e.target.value,appointmentDate:"no"===e.target.value?"":a.appointmentDate,appointmentTime:"no"===e.target.value?"":a.appointmentTime}))},N=async r=>{if(r.preventDefault(),!e){p("info"),h("提醒您，線上訂購功能目前暫未開放。如需訂購，請撥打電話：04-25611337。感謝您的理解！"),t(!1);return}if(!x){p("error"),h("API 服務目前無法使用，請稍後再試。"),t(!1);return}if(t(!0),p(null),h(""),"yes"===a.needsInstallation&&!a.appointmentDate){p("error"),h("如果您需要安裝服務，請選擇期望的預約安裝日期。"),t(!1);return}if("yes"===a.needsInstallation&&!a.appointmentTime){p("error"),h("如果您需要安裝服務，請選擇期望的預約安裝時段。"),t(!1);return}let l={...a,appointmentDate:"yes"===a.needsInstallation?a.appointmentDate:null,appointmentTime:"yes"===a.needsInstallation?a.appointmentTime:null};l.quantity=Number(l.quantity);try{let e=await fetch("".concat(x,"/api/orders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a=await e.json();e.ok?(p("success"),h(a.message||"訂單請求已成功提交！我們將盡快與您聯繫。"),s({name:"",phone:"",email:"",tireBrandSeries:"",tireSpecs:"",quantity:1,carMake:"",carModel:"",carYear:"",needsInstallation:"no",appointmentDate:"",appointmentTime:"",notes:""})):(p("error"),h(a.message||"提交訂單時發生錯誤，請稍後再試或直接與我們聯繫。"),a.errors&&(console.error("Validation errors:",a.errors),h("提交失敗：".concat(a.errors.join(", ")))))}catch(e){console.error("Error submitting order:",e),p("error"),h("提交訂單時發生網路錯誤，請檢查您的網路連線或稍後再試。")}t(!1)};return(0,r.jsxs)("div",{className:d().container,children:[(0,r.jsxs)(n(),{children:[(0,r.jsxs)("title",{children:["輪胎訂購 - 廣翊輪胎館 ",e?"":"(暫停服務)"]}),(0,r.jsx)("meta",{name:"description",content:"輪胎訂購服務。".concat(e?"立即填寫表單預訂。":"請注意：線上訂購功能暫未開放，請透過電話聯繫。")})]}),(0,r.jsx)("h1",{className:d().pageTitle,children:"輪胎訂購表單"}),(0,r.jsx)("p",{className:d().pageSubtitle,children:"請填寫以下資訊，我們收到後會盡快與您聯繫確認訂單詳情與後續事宜。"}),!e&&(0,r.jsxs)("div",{className:d().serviceNotice,children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"重要提示："})}),(0,r.jsx)("p",{children:"親愛的顧客您好，本網站的「線上輪胎訂購」功能目前暫未正式開放。"}),(0,r.jsx)("p",{children:"若您需要訂購輪胎或有任何疑問，請直接撥打我們的服務專線："}),(0,r.jsx)("p",{className:d().noticePhoneNumber,children:"04-25611337"}),(0,r.jsx)("p",{children:"我們將有專人為您服務，感謝您的理解與支持！"})]}),(0,r.jsxs)("form",{onSubmit:N,className:"".concat(d().orderForm," ").concat(e?"":d().formDisabledVisuals),children:[(0,r.jsxs)("fieldset",{className:d().fieldset,children:[(0,r.jsx)("legend",{className:d().legend,children:"客戶基本資料"}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"name",className:d().label,children:["姓名 ",(0,r.jsx)("span",{className:d().required,children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:_,className:d().input,required:!0,disabled:!e})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"phone",className:d().label,children:["聯絡電話 ",(0,r.jsx)("span",{className:d().required,children:"*"})]}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:_,className:d().input,required:!0,disabled:!e})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"email",className:d().label,children:"電子郵件"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:_,className:d().input,disabled:!e})]})]}),(0,r.jsxs)("fieldset",{className:d().fieldset,children:[(0,r.jsx)("legend",{className:d().legend,children:"輪胎訂購資訊"}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"tireBrandSeries",className:d().label,children:"輪胎品牌/系列"}),(0,r.jsx)("input",{type:"text",id:"tireBrandSeries",name:"tireBrandSeries",value:a.tireBrandSeries,onChange:_,className:d().input,placeholder:"例如：普利司通 Potenza S007A",disabled:!e})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"tireSpecs",className:d().label,children:"輪胎規格"}),(0,r.jsx)("input",{type:"text",id:"tireSpecs",name:"tireSpecs",value:a.tireSpecs,onChange:_,className:d().input,placeholder:"例如：225/45R18 (若不確定可留空)",disabled:!e})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"quantity",className:d().label,children:["數量 ",(0,r.jsx)("span",{className:d().required,children:"*"})]}),(0,r.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:a.quantity,onChange:_,className:d().input,min:"1",required:!0,disabled:!e})]})]}),(0,r.jsxs)("fieldset",{className:d().fieldset,children:[(0,r.jsx)("legend",{className:d().legend,children:"車輛資訊"}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"carMake",className:d().label,children:["車輛廠牌",(0,r.jsx)("span",{className:d().required,children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"carMake",name:"carMake",value:a.carMake,onChange:_,className:d().input,placeholder:"例如：Toyota",disabled:!e,required:!0})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsxs)("label",{htmlFor:"carModel",className:d().label,children:["車輛型號",(0,r.jsx)("span",{className:d().required,children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"carModel",name:"carModel",value:a.carModel,onChange:_,className:d().input,placeholder:"例如：Corolla Altis",disabled:!e,required:!0})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"carYear",className:d().label,children:"車輛年份"}),(0,r.jsx)("input",{type:"text",id:"carYear",name:"carYear",value:a.carYear,onChange:_,className:d().input,placeholder:"例如：2020",disabled:!e})]})]}),(0,r.jsxs)("fieldset",{className:d().fieldset,children:[(0,r.jsx)("legend",{className:d().legend,children:"安裝服務"}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("p",{className:d().label,children:"是否需要安裝服務？"}),(0,r.jsxs)("div",{className:d().radioGroup,children:[(0,r.jsxs)("label",{className:d().radioLabel,children:[(0,r.jsx)("input",{type:"radio",name:"needsInstallation",value:"yes",checked:"yes"===a.needsInstallation,onChange:j,disabled:!e})," 是"]}),(0,r.jsxs)("label",{className:d().radioLabel,children:[(0,r.jsx)("input",{type:"radio",name:"needsInstallation",value:"no",checked:"no"===a.needsInstallation,onChange:j,disabled:!e})," 否"]})]})]}),"yes"===a.needsInstallation&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"appointmentDate",className:d().label,children:"期望預約安裝日期"}),(0,r.jsx)("input",{type:"date",id:"appointmentDate",name:"appointmentDate",value:a.appointmentDate,onChange:_,className:d().input,disabled:!e})]}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"appointmentTime",className:d().label,children:"期望預約安裝開始時間"}),(0,r.jsxs)("select",{id:"appointmentTime",name:"appointmentTime",value:a.appointmentTime,onChange:_,className:d().input,disabled:!e,children:[(0,r.jsx)("option",{value:"",children:"請選擇開始時間"}),["08:30","09:00","09:30","10:00","10:30","11:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,r.jsxs)("fieldset",{className:d().fieldset,children:[(0,r.jsx)("legend",{className:d().legend,children:"其他備註"}),(0,r.jsxs)("div",{className:d().formGroup,children:[(0,r.jsx)("label",{htmlFor:"notes",className:d().label,children:"特殊需求或訊息"}),(0,r.jsx)("textarea",{id:"notes",name:"notes",value:a.notes,onChange:_,className:d().textarea,rows:"4",placeholder:"例如：是否有現貨？大概多久可以調到貨？",disabled:!e})]})]}),o&&"info"!==o&&(0,r.jsx)("div",{className:"".concat(d().submitMessage," ").concat("success"===o?d().successMessage:d().errorMessage),children:u}),(0,r.jsx)("div",{className:d().formActions,children:(0,r.jsx)("button",{type:"submit",className:d().submitButton,disabled:!e||l,children:l?"提交中...":e?"提交訂購請求":"線上訂購 (暫未開放)"})}),(0,r.jsxs)("p",{className:d().formFooterText,children:[e?"提交後，我們會盡快透過電話與您確認訂單詳情，包括最終價格、庫存狀態與付款方式。":"線上訂購暫停服務期間，","您也可以直接 ",(0,r.jsx)(c(),{href:"/about",className:d().contactLink,children:"聯絡我們"}),"。"]})]})]})}},9088:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tire-order",function(){return s(1974)}])},9500:e=>{e.exports={container:"TireOrder_container__BLjEQ",pageTitle:"TireOrder_pageTitle__umscV",pageSubtitle:"TireOrder_pageSubtitle__XtPtf",orderForm:"TireOrder_orderForm__tTqYd",fieldset:"TireOrder_fieldset__osNZc",legend:"TireOrder_legend__VZEdD",formGroup:"TireOrder_formGroup__Chsa_",label:"TireOrder_label__WQEd2",input:"TireOrder_input__69cqb",textarea:"TireOrder_textarea__8Cn77",select:"TireOrder_select__YvnQp",required:"TireOrder_required__j6t0P",radioGroup:"TireOrder_radioGroup__KF85b",radioLabel:"TireOrder_radioLabel__hhX8u",formActions:"TireOrder_formActions__4_7fH",submitButton:"TireOrder_submitButton__ZKxvM",formFooterText:"TireOrder_formFooterText__Bytki",contactLink:"TireOrder_contactLink__3AabU",submitMessage:"TireOrder_submitMessage__fyNe2",successMessage:"TireOrder_successMessage__ir4y_",errorMessage:"TireOrder_errorMessage__zPGRG",serviceNotice:"TireOrder_serviceNotice__ihfHK",noticePhoneNumber:"TireOrder_noticePhoneNumber__r_AMV",formDisabledVisuals:"TireOrder_formDisabledVisuals__Bk4Ra"}}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(9088)),_N_E=e.O()}]);